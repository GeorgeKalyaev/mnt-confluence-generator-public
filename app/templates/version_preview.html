{% extends "base.html" %}

{% block title %}Просмотр версии - МНТ {{ document.id }}{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <div>
        <h1>Просмотр версии {{ version.version_number }}</h1>
        <p class="text-muted mb-0">
            МНТ: <strong>{{ document.title }}</strong> | 
            Дата: {{ version.created_at.strftime('%d.%m.%Y %H:%M:%S') if version.created_at else 'N/A' }} | 
            Автор: {{ version.changed_by }}
        </p>
        {% if version.change_reason %}
        <p class="text-muted"><small>Причина: {{ version.change_reason }}</small></p>
        {% endif %}
    </div>
    <div>
        <a href="/mnt/{{ document.id }}/versions" class="btn btn-outline-secondary">← К списку версий</a>
        <a href="/mnt/{{ document.id }}/version/{{ version.id }}/restore" 
           class="btn btn-primary"
           onclick="return confirm('Вы уверены, что хотите восстановить эту версию? Текущие изменения будут потеряны.')">
            ↻ Восстановить эту версию
        </a>
    </div>
</div>

<div class="card">
    <div class="card-body">
        <div class="preview-content">
            {{ preview_content|safe }}
        </div>
    </div>
</div>
{% endblock %}
